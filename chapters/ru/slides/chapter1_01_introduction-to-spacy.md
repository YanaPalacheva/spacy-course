---
type: slides
---

# Введение в spaCy

Notes: Привет, меня зовут Инес! Я одна из ведущих разработчиков spaCy, популярной библиотеки
для современной обработки естественного языка на Python.

В этом уроке мы рассмотрим важнейшие концепты spaCy и узнаем, с чего начать работу с библиотекой.

---

# Объект nlp

```python
# Импортирование класса английского языка
from spacy.lang.en import English

# Создание объекта nlp
nlp = English()
```

- содержит пайплайн обработки текста
- включает в себя правила токенизации и пр. для конкретного языка

Notes: Центральным элементом spaCy является объект, содержащий пайплайн обработки текста.
Обычно, мы называем эту переменную "nlp".

Например, чтобы определить объект `nlp` для английского языка, вам нужно импортировать
класс английского языка `English` из `spacy.lang.en` и создать его экземпляр. Для анализа текста 
вы можете использовать этот объект как функцию.

Он содержит все компоненты пайплайна обработки текста.

Также этот объект включает в себя правила разбиения текста на слова и знаки препинания (токены) для конкретного языка.
spaCy поддерживает множество языков, все доступные языки находятся в `spacy.lang`.

---

# Объект Doc

```python
# Создание объекта Doc с помощью обработки строки текста объектом nlp
doc = nlp("Hello world!")

# Перебор элементов массива doc
for token in doc:
    print(token.text)
```

```out
Hello
world
!
```

Результатом обработки текста объектом nlp является объект типа Doc – сокращение от 
"document" ("документ"). Он позволяет получать информацию о тексте в структурированном виде, 
никакая информация не теряется.

К слову, объект Doc ведёт себя как любая другая последовательность в Python, 
то есть вы можете перебирать его элементы и получать элемент по индексу. Но об этом чуть позже.

---

# Объект Token

<img src="/doc.png" alt="Illustration of a Doc object containing four tokens" width="50%" />

```python
doc = nlp("Hello world!")

# Получение объекта Token по индексу из объекта Doc
token = doc[1]

# Получение текста токена с помощью атрибута .text
print(token.text)
```

```out
world
```

Notes: Токены документа - например, слова или знаки препинания - представлены объектами `Token`.

Чтобы узнать, какой токен стоит на конкретной позиции в тексте,
вы можете получить соотвествующий `Token` по индексу из doc.

Также объекты `Token` имеют различные атрибуты, с помощью которых можно получить больше информации
о токенах. Например, атрибут `.text` содержит текст соответствующего токена.

---

# Объект Span

<img src="/doc_span.png" width="50%" alt="Illustration of a Doc object containing four tokens and three of them wrapped in a Span" />

```python
doc = nlp("Hello world!")

# Объект Span - срез объекта Doc
span = doc[1:3]

# Получение текста объекта span с помощью атрибута .text
print(span.text)
```

```out
world!
```

Notes: Объект `Span` – это срез документа, содержащий один или более токенов.
Это всего лишь вариант представления объекта `Doc`, и он не содержит в себе информации
как таковой.

Чтобы создать подобный объект, вы можете использовать так называемый срез (slice)
из Python. Например, `1:3` создаст срез, содержащий токены с позиции 1 до позиции 3 (не включая).

---

# Лексические Атрибуты

```python
doc = nlp("It costs $5.")
```

```python
print("Index:   ", [token.i for token in doc])
print("Text:    ", [token.text for token in doc])

print("is_alpha:", [token.is_alpha for token in doc])
print("is_punct:", [token.is_punct for token in doc])
print("like_num:", [token.like_num for token in doc])
```

```out
Index:    [0, 1, 2, 3, 4]
Text:     ['It', 'costs', '$', '5', '.']

is_alpha: [True, True, False, False, False]
is_punct: [False, False, False, False, True]
like_num: [False, False, False, True, False]
```

Notes: Ниже представлены некоторые атрибуты токенов:

`i` - индекс токена в документе.

`text` - текст токена.

`is_alpha`, `is_punct` и `like_num` - булевы значения, указывающие на то,
состоит ли токен только из символов алфавита, является знаком препинания 
или же _соответствует_ числу. К примеру, токен "10" - один, ноль - или слово "десять" - 
Д, Е, С, Я, Т, Ь.

Эти атрибуты также называются лексическими атрибутами: они относятся только к единице вокабуляра
и не зависят от контекста токена.
---

# Давайте потренируемся!

Notes: Давайте обратим теорию в практику и обработаем ваш первый текст с помощью spaCy!
